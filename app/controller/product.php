<?php
/**
 * Created by PhpStorm.
 * User: wangjunfeng
 * Date: 16/1/14
 */

class Product extends Base
{
    public function index() {
        $path = APP_PATH.'/config/redgame.txt';

        $arr = array();
        $lines = file($path);

        $tmp = array_unique($lines);

        //print_r($tmp);exit();
//        foreach ($lines as $line) {
//            $line = rtrim($line);
//            $tmp = explode(';', $line);
//            if (strpos($tmp[0], '-')) {
//                $arr[] = $tmp[1];
//            }
//        }
//        var_export($arr);exit();

        $path = APP_PATH.'/config/redgameuiq.txt';
        foreach ($tmp as $gameid) {
            file_put_contents($path, $gameid.PHP_EOL, FILE_APPEND);
        }

echo 'ok';
    }

    public function getPrice() {
        $a = '';
        $r = json_decode($a, true);
        print_r($r);exit();

        $id = $this->request->getParams('id');
        $a = $this->request->getParams('a');
        print_r($id);
        print_r($a);
//        echo 100;
//        print_r($_REQUEST);
    }

    public function token() {
        $ios_token = array (
                0 => 'f86b1e3b0e20b326',
                1 => '60654716-B271-4F4B-B086-F3C8046FD1C6',
                2 => 'fcc1df22e1617726',
                3 => 'F852BED1-3A01-47EB-9B3C-629A020CB640',
                4 => 'C6882BFB-F104-4C2E-93AE-2A99E423E274',
                5 => 'd12ed0b4add522a6',
                6 => 'E5A9F764-450D-424F-99DF-E832FCC16981',
                7 => '31CFA668-8CE3-4F8F-B05D-8E3F3FBEA947',
                8 => '953C626D-B30F-40CB-8B74-6D9CEE2751A8',
                9 => '74FE490B-9499-4CF5-837F-B2A785B79873',
                10 => 'A7CE18CB-DF25-452B-9E46-1F70A0CC8E5F',
                11 => '16e4ac92f49c410e',
                12 => 'DA116D61-DC97-4565-81B4-3E05C80AE247',
                13 => 'FE080450-8D8F-4526-9D6A-920C8F6B545D',
                14 => 'a48dbdd5e61b15aa',
                15 => '297A7170-E8BF-4010-9A2F-ADECE40E160E',
                16 => 'e326760b2bd17732',
                17 => '16e4ac92f49c410e',
                18 => 'ea8fbbb602a472f8',
                19 => 'b1ed5f28552cff69',
                20 => 'C59281EB-DDA9-4E91-9244-E1DF3A519758',
                21 => '16e4ac92f49c410e',
                22 => 'AFD49E19-B3F3-4041-8072-488F1BE83BE8',
                23 => '25D32554-2D32-43A7-820C-970D8AAC58C4',
                24 => '845ae32ffd107e00',
                25 => '0C43C2C8-1E15-4F11-9446-815920257A66',
                26 => '864ac43a65e870c2',
                27 => 'b22e8ec6b182895f',
                28 => '639333bd7ef67be9',
                29 => 'f50eaf0b222a729b',
                30 => 'D8A968A7-1402-4F21-931D-56F4BC4C0155',
                31 => '864ac43a65e870c2',
                32 => '73B2E79F-7EDF-45F7-BD6B-AEA0D45ABD1E',
                33 => 'D3A5469F-5754-4911-86AB-3D3E28E0545F',
                34 => '969AD426-0481-412A-BFCA-5EC077FED04C',
                35 => '22f47c71e17d8c13',
                36 => '74C3717A-C8C4-43F0-A318-755A996A98CC',
                37 => 'D420F646-90C2-4C3D-BF1C-A5CDE3E80BA1',
                38 => '39d1330d85635a98',
                39 => 'DBF87C9B-3805-421E-AF88-AB9D11CA7A86',
                40 => '103F6F6D-7CE9-4ED0-AD68-8E4FE31FC1DD',
                41 => '19f9e8c8d938d9c8',
                42 => 'DBB6B06C-1FA3-4E6B-B02F-4AEE8F5700D5',
                43 => 'eece64cc3db6f325',
                44 => '66068CA1-05F7-4AEA-9A3B-AE2472363916',
                45 => 'D6455602-20F8-49DD-A753-249315E1973D',
                46 => '3c39dac1f2fbd56c',
                47 => '2ef73eabd3ec339',
                48 => '10053a79979ec021',
                49 => 'DD0D6B30-121C-47F7-9FA3-4ED35115C663',
                50 => '1af9492c61986dd4',
                51 => '7e46e0a55f261727',
                52 => '1FC6839B-212E-4224-ADAF-73F1CB36BCA5',
                53 => '731F89F3-B863-4D19-B58C-CD7295AB633F',
                54 => '3A03C1B6-3387-4665-80F6-5E2E9D0A1807',
                55 => 'ef78075128f145f',
                56 => '3EAB21DB-9B71-4BEA-B2C2-DA3BDC2FA1A8',
                57 => '98A54EC3-5476-4773-A157-A89915BBCE59',
                58 => '17A4EF71-9A9B-4F79-9DB9-EEF3F0318BFD',
                59 => '7161CB1E-F79F-463B-A19C-0FB709D1BD67',
                60 => 'E8F6F2A4-4E13-467C-BB77-2C24FB32799C',
                61 => 'B8085270-CB50-43BA-ADB7-278251F6F0D7',
                62 => '9dc7c855e03a0b8',
                63 => 'BB64B194-1535-424D-AF22-F59771723118',
                64 => '23C42B39-8B84-4BBA-9128-2D20272804B8',
                65 => '98A54EC3-5476-4773-A157-A89915BBCE59',
                66 => 'ee8dd7b53697c37f',
                67 => '34cf9e45a8efdd49',
                68 => '9669c1cf6b6fc87c',
                69 => '59FB9D4E-B711-47C2-9FB8-90674305E9D7',
                70 => '15D387B0-659A-450A-845B-BCB3563A170E',
                71 => '08870D9F-8EDF-4A53-8B8D-FAFF0100FBF5',
                72 => 'BA8800DA-172B-45AB-968F-0D67043C0E57',
                73 => '94659CCDCA7B0000',
                74 => '5F4970F9-C7A5-4903-B2EE-05A18C781CE2',
                75 => '7ef906b489d96cf6',
                76 => '28fcffae010b17c5',
                77 => '73B2E79F-7EDF-45F7-BD6B-AEA0D45ABD1E',
                78 => '8f69e9ccbb1d9118',
                79 => 'eedfad6103821de7',
                80 => 'FA384224-FFBD-4983-A9E9-7D1980240B59',
                81 => '3EAB21DB-9B71-4BEA-B2C2-DA3BDC2FA1A8',
                82 => '1CC2D20F-58AD-407E-939B-ED02A153A7E4',
                83 => '6A360542-909C-4A52-BA3D-9208D716E57E',
                84 => '11334004-6119-4AAC-8A05-5EEFE13BF57E',
                85 => '75011639319601ef',
                86 => '36c18a97b255befb',
                87 => '57286878fc929829',
                88 => '08870D9F-8EDF-4A53-8B8D-FAFF0100FBF5',
                89 => 'B02F7546-7EB1-4888-8EAC-48343AD0D06D',
                90 => '1c167b72400b6ddb',
                91 => '28fcffae010b17c5',
                92 => 'ce423eb8f1d56a0a',
                93 => 'D4EBC728-A0FA-4EC7-A459-163B27001B4A',
                94 => '1F54E1D5-6038-434C-B90A-32ADDF6B6EF0',
                95 => '51717a5bddabf663',
                96 => 'f760c44dae5778bc',
                97 => 'F43B39F0-C2E1-4E9A-921E-1A260599BB2A',
                98 => 'B8059829-E928-4672-B09D-C939F9D449A8',
                99 => '3EAB21DB-9B71-4BEA-B2C2-DA3BDC2FA1A8',
                100 => '4b8c421c9ef888e7',
                101 => 'F6FB8649-1EB1-4B22-83A9-DE8A85F70712',
                102 => '08870D9F-8EDF-4A53-8B8D-FAFF0100FBF5',
                103 => 'ed5937ac0ef28949',
                104 => 'B208847F-B0C8-4AFB-B3FB-FDF6403B0A77',
                105 => '8084A88F-F427-403A-B091-DF8975EDDD58',
                106 => '98A54EC3-5476-4773-A157-A89915BBCE59',
                107 => '8e9f35fc89c586a4',
                108 => 'cc821a215be7ae09',
                109 => '8D21B067-B112-4442-AD22-CB529C7A14AF',
                110 => '49beb007a61136b7',
                111 => '4E5B1A02-7EB6-4CAC-A2B5-A208D7B937FE',
                112 => '4abd6957f5759375',
                113 => 'b8eb87d9f81b1bf',
                114 => '29a5285cc9909d00',
                115 => '953A06DB-D28E-462D-B295-6AAC7ACE7412',
                116 => 'c4a6c874640205b9',
                117 => '19140CF8-C2B2-4A48-8538-7FA110E77BC2',
                118 => '288a05fcb0504e38',
                119 => '01DC6F94-82F9-430F-95EC-73258CE24B2B',
                120 => '4625557d6eb1c2aa',
                121 => 'E227AA8E-2898-4976-B9AE-F64B8383FDD0',
                122 => 'A314F383-16F3-45AC-9EC5-E5AD67A83465',
                123 => 'D2788EA7-1C7D-4D6C-A81E-C187D5962D34',
                124 => '23C42B39-8B84-4BBA-9128-2D20272804B8',
                125 => 'DC4BCAFB-017B-4926-882D-EE8BD0B5DAE9',
                126 => 'b9435f43484ae333',
                127 => 'dd106883e00ff7b1',
                128 => '998BC9F1-A025-4799-BB5F-2E5B9E6F4E2E',
                129 => '4ea2b310b71fdd0f',
                130 => 'DC4BCAFB-017B-4926-882D-EE8BD0B5DAE9',
                131 => '47F57020-6A8F-4C89-8D14-70119EDAADA3',
                132 => 'BCBDA866-A374-4570-8CC0-DED6FA982A4D',
                133 => '9D03555C-2F10-42D7-AC66-079DD650D6BC',
                134 => 'F6FB8649-1EB1-4B22-83A9-DE8A85F70712',
                135 => '6C82D863-C8B4-4BAA-84BD-42F4E28D8F67',
                136 => '0EEDBEC8-B790-43F2-9980-E395ED43A681',
                137 => '3AF8CD0E-44A3-46B6-BCAE-DCFB1F873218',
                138 => '9656d88286da006b',
                139 => '8749764B-B20A-4992-96F8-E88ED07B778A',
                140 => 'C39218F8-86D5-49D9-A3EF-22F1666080DE',
                141 => '1c7a58292daeb291',
                142 => '75d93dd12755dd50',
                143 => '895BCCDA-D067-4294-90A8-C291E53AC408',
                144 => '307A02AA-ACDE-46B4-9108-9A91C03EFC78',
                145 => 'c3cf22ea15d8839',
                146 => 'D053BA8A-15CF-47EA-BDD5-D10C78ECC2A8',
                147 => 'A95C0925-9D86-4E61-BA09-ED1ABCA49E3D',
                148 => '3ebaf05641972905',
                149 => 'b5c3cc526264d57d',
                150 => '05D499A6-723B-49E9-83B4-13A392BF6F99',
                151 => '2ef73eabd3ec339',
                152 => 'e2b5d3f357e84291',
                153 => 'c8f944e2995a37d7',
                154 => 'B8CF35D9-993F-4A72-88F6-5FDAEDB8DDB8',
                155 => '629B71EF-21D1-45DB-8F27-0652A83F79A7',
                156 => '3c6f7ea3993af969',
                157 => '40BED94B-EDAD-4FBA-A11D-59F18E7E5D20',
                158 => 'eece64cc3db6f325',
                159 => 'fff8ef95e7f509b9',
                160 => '4a64bd2f5b8fb0f6',
                161 => '2bdf27215046f339',
                162 => 'F476F15F-BDB7-43F3-A9C5-5FD1CA09F38E',
                163 => '20D1DC53-487D-4156-B7CB-FBB3F51E86EE',
                164 => '36988948-5370-4709-92CB-3DD4DC9B509D',
                165 => '5398FF22-BB25-4162-9502-305CB1169968',
                166 => '220472F6-8DC9-4C55-8CD7-A226A245C851',
                167 => 'EDE798D2-4590-450D-830B-B0ABFE774154',
                168 => '2DAC0666-E366-4222-9EB1-FA6B8DD50196',
                169 => '77F614BE-9A43-46BD-8FC3-0503E974DD96',
                170 => 'b54bb47e30ddc13c',
                171 => '8c69477cd635848d',
                172 => '40A74073-B229-4507-B6DB-51D628B9263F',
                173 => 'BFC11975-6FF6-4E16-AB53-37F439CA8123',
                174 => '388743e4ebd3d246',
                175 => '284866cba5223fc4',
                176 => 'c8f944e2995a37d7',
                177 => '949463A4-49C2-4432-BA93-ACC32CF85578',
                178 => '1c7a58292daeb291',
                179 => '1c7a58292daeb291',
                180 => '51ec8d1cd430f96a',
                181 => '2601e0f813a6f030',
                182 => 'ec2e2e41c7a80a7e',
                183 => '165becd2aa68daa3',
                184 => '0422F70B-1EE0-4F16-98F2-A6B0346334BB',
                185 => 'F1E0E3F0-BACD-45BE-8CFC-6A9D5DDC46BF',
                186 => 'd5c39ac02778114d',
                187 => '618b6e1a60941b37',
                188 => 'ce656b0d26033ef9',
                189 => '415cd9c36330919d',
                190 => '55c50dfd3c861aca',
                191 => '51ec8d1cd430f96a',
                192 => '9DBE5CC8-7DAE-426E-AFA7-BC7BD5B56ADC',
                193 => '0EDD1EBE-1095-4FDB-AB7E-217960E77990',
                194 => '7683f1744b8adffd',
                195 => '4c31c2f985126ba',
                196 => '3f1dba767ff679d7',
                197 => 'E4243FB0-9DA6-40A6-BE28-640C935C9DB5',
                198 => '7cc3ff2dfee57a76',
                199 => 'a7ea8d70b75d8a18',
                200 => 'DCF1725E-365F-4749-A152-91A59C2FA469',
                201 => 'F6FB8649-1EB1-4B22-83A9-DE8A85F70712',
                202 => 'a7ea8d70b75d8a18',
                203 => '321fa46701077a0c',
                204 => '697ED571-70C9-4BA1-A09F-A59EAEEBCA74',
                205 => '7d07a8e785055264',
                206 => 'B525983A-7D46-4674-9BC1-DB41A4199531',
                207 => '849B99D3-5845-4AB2-AE39-DBFE78F64419',
                208 => '2d08dfce490ae264',
                209 => '7789d514d770f300',
                210 => 'f7582cb74ae10a45',
                211 => '55c50dfd3c861aca',
                212 => 'CB9BC98D-0FE8-465C-9B31-2723A68CE822',
                213 => '89BAC062-9E26-4802-9FF8-F5CB99C8B49E',
                214 => '6C82D863-C8B4-4BAA-84BD-42F4E28D8F67',
                215 => '1c7533e67a4e47b7',
                216 => '5C78A1A7-F122-466A-92E1-2D57D353EB2F',
                217 => '8c69477cd635848d',
                218 => 'C3504573-EA2D-4D8B-B070-494BA8331470',
                219 => 'EDE3D0D8-578D-4FDF-A5C8-B808F50876CF',
                220 => 'D9836BAA-B417-40AF-B8E2-2ED6BBF2397B',
                221 => 'c291950a711ed5a7',
                222 => 'd112ad788df8c813',
                223 => 'F6FE116A-2429-4518-B53D-322953BB209E',
                224 => '5C065822-1761-4DB8-A7C1-7E19B7C1FCE1',
                225 => '3BF5C258-25FA-4663-BD47-A13344883927',
                226 => 'AB1A0FE9-F58C-4DC3-80B2-43D4129C14C3',
                227 => '3e82649c0a131bb5',
                228 => '3A80C24A-B610-4460-9619-083D92ACF49A',
                229 => '5b78d65b485665cf',
                230 => 'F7483E72-E4C7-447D-961F-C3BB57A88B74',
                231 => '1756F168-BC21-4B4B-A393-E3AE4E8068A8',
                232 => '55c50dfd3c861aca',
                233 => '91E4B9DC-4231-4E23-9B98-5239458F745D',
                234 => '55c50dfd3c861aca',
                235 => '2c218bce4cbab673',
                236 => 'a7db55d3e7394cc6',
                237 => '9AF9CF0E-F6B9-48BE-9A6A-1E6B7D0D78CA',
                238 => '96099AE7-959B-4F35-974B-3105866FEE8A',
                239 => '99025944dd1dc4cc',
                240 => 'c7ef0ecf3c1333d0',
                241 => 'D6CD1DBF-0605-4751-BE9E-36F604964D77',
                242 => '18e71a45b807107e',
                243 => '47ac0e04abd0cfb3',
                244 => '26DDFE12-5E23-46BE-9B2A-E076C6082EFE',
                245 => 'd8462109c7444a9b',
                246 => '522344022474d7eb',
                247 => 'eece64cc3db6f325',
                248 => 'cfefeae7c97f2dd4',
                249 => '3B969BF6-318F-41BD-8C7D-6034567E0C11',
                250 => '51ec8d1cd430f96a',
                251 => '1EF6E739-4CBE-48EE-89DE-1B2937DEA442',
                252 => 'c8f944e2995a37d7',
                253 => '98A54EC3-5476-4773-A157-A89915BBCE59',
                254 => 'dc372da1d383ee55',
                255 => '1e23cb30b8b8844e',
                256 => 'E2FD9834-86A8-4CFC-858C-080FCDFE48F8',
                257 => 'E2FD9834-86A8-4CFC-858C-080FCDFE48F8',
                258 => 'CD206C5E-AA35-4A33-842D-8F4C737E5E1C',
                259 => 'd79e0ab9b8de8f0c',
                260 => '60392CA8-7BB5-432D-A116-B02749539F56',
                261 => '793bb93fa2d7aca8',
                262 => '996FA44D-3AF3-4CD4-9097-B84EEF5DC5CA',
                263 => '3B969BF6-318F-41BD-8C7D-6034567E0C11',
                264 => '8a5feddd59fc3292',
                265 => '39A4579A-0D19-49BA-A8E2-9F53BB81A898',
                266 => 'D5678B91-9F2F-49B1-8479-1621E1368466',
                267 => '563AFFE8-D446-4766-B675-4686EAD6FF7A',
                268 => 'E2FD9834-86A8-4CFC-858C-080FCDFE48F8',
                269 => '3BF5C258-25FA-4663-BD47-A13344883927',
                270 => 'b71e80f3760005d2',
                271 => '36BD46C0-3680-4A85-BF63-F5BE15A52AEA',
                272 => '21d7099af3bf989e',
                273 => '711c152beeb19165',
                274 => '2847E10D-4263-4825-9D57-90EB78746564',
                275 => '11334004-6119-4AAC-8A05-5EEFE13BF57E',
                276 => '24BC999D-298D-4B9B-B061-5F65FAE0EAF1',
                277 => '4EC7A50E-E28A-4A59-8616-C15488BAA3F5',
                278 => '1D994F38-878E-4896-85F7-55579E72E508',
                279 => '043B67AC-0119-4C1F-B5A3-FB1CBFDEEE19',
                280 => 'F6FB8649-1EB1-4B22-83A9-DE8A85F70712',
                281 => '7789d514d770f300',
                282 => '52AAE397-6A22-4F8F-AD42-E5A49514EAFE',
                283 => '98A54EC3-5476-4773-A157-A89915BBCE59',
                284 => '629B71EF-21D1-45DB-8F27-0652A83F79A7',
                285 => 'F93C3168-111E-4A60-86C1-C554940ECD5E',
                286 => '52f6c980ce1964e4',
                287 => '19140CF8-C2B2-4A48-8538-7FA110E77BC2',
                288 => '7b4e4a0119ab6976',
                289 => 'F93C3168-111E-4A60-86C1-C554940ECD5E',
                290 => 'E4551E11-6030-4B34-A4A0-C3DADC6760AE',
                291 => 'A314F383-16F3-45AC-9EC5-E5AD67A83465',
                292 => '3A80C24A-B610-4460-9619-083D92ACF49A',
                293 => 'CFE808B9-B1BD-41A5-8CD3-9288B2245C25',
                294 => '3C6C4D3F-3B43-4B81-BA75-C84D08CB4049',
                295 => '7D6E069D-6148-4D86-B34B-78A8454664D2',
                296 => 'b9435f43484ae333',
                297 => '275847a5aac309cf',
                298 => '2EA74F16-72F0-479A-9DCC-CB578C3C6749',
                299 => '2ef938daf411ac06',
                300 => 'f58ed5fb08cab6c',
                301 => 'cc4a1b84c7b09b0',
                302 => '19140CF8-C2B2-4A48-8538-7FA110E77BC2',
                303 => '7D6E069D-6148-4D86-B34B-78A8454664D2',
                304 => 'E2FD9834-86A8-4CFC-858C-080FCDFE48F8',
                305 => '11334004-6119-4AAC-8A05-5EEFE13BF57E',
            );

        $ip_arr =
            array (
                0 => '222.42.238.47',
                1 => '1.48.73.9',
                2 => '42.248.33.153',
                3 => '123.12.143.128',
                4 => '14.215.165.134',
                5 => '14.152.94.214',
                6 => '202.103.203.93',
                7 => '223.104.4.245',
                8 => '60.170.156.36',
                9 => '120.197.202.122',
                10 => '115.205.115.40',
                11 => '121.57.9.201',
                12 => '42.52.140.68',
                13 => '113.238.47.200',
                14 => '113.238.47.200',
                15 => '113.238.47.200',
                16 => '106.90.18.201',
                17 => '117.136.2.173',
                18 => '113.200.205.36',
                19 => '183.27.245.159',
                20 => '112.12.190.156',
                21 => '180.112.2.164',
                22 => '139.205.163.195',
                23 => '120.197.253.7',
                24 => '120.197.253.7',
                25 => '120.197.253.4',
                26 => '117.136.81.197',
                27 => '183.29.2.143',
                28 => '122.242.167.185',
                29 => '36.104.14.4',
                30 => '118.114.231.203',
                31 => '113.109.118.125',
                32 => '117.136.31.142',
                33 => '39.191.103.79',
                34 => '115.203.25.253',
                35 => '117.136.41.57',
                36 => '113.109.118.125',
                37 => '61.184.83.233',
                38 => '171.82.237.223',
                39 => '171.44.105.197',
                40 => '171.44.105.197',
                41 => '58.42.229.67',
                42 => '220.249.163.116',
                43 => '39.176.70.193',
                44 => '175.167.152.213',
                45 => '112.224.69.207',
                46 => '218.81.230.226',
                47 => '218.81.230.226',
                48 => '180.162.76.141',
                49 => '180.130.10.82',
                50 => '117.60.253.249',
                51 => '58.208.140.83',
                52 => '223.104.4.38',
                53 => '113.139.144.39',
                54 => '119.248.128.3',
                55 => '117.136.3.23',
                56 => '112.115.182.46',
                57 => '117.136.40.18',
                58 => '27.187.1.163',
                59 => '114.135.217.187',
                60 => '42.102.240.254',
                61 => '171.223.146.34',
                62 => '223.104.1.203',
                63 => '106.114.4.33',
                64 => '171.209.5.154',
                65 => '117.60.50.193',
                66 => '180.115.59.189',
                67 => '180.99.27.48',
                68 => '182.36.55.56',
                69 => '112.248.52.28',
                70 => '112.255.218.217',
                71 => '60.190.254.19',
                72 => '221.229.181.43',
                73 => '223.104.131.118',
                74 => '223.104.227.253',
                75 => '183.162.35.178',
                76 => '183.162.35.178',
                77 => '183.162.10.98',
                78 => '27.219.96.245',
                79 => '180.98.37.23',
                80 => '222.90.166.60',
                81 => '118.114.231.190',
                82 => '180.136.198.223',
                83 => '111.85.57.9',
                84 => '218.86.21.205',
                85 => '125.39.168.172',
                86 => '182.97.150.55',
                87 => '218.203.63.24',
                88 => '112.224.69.231',
                89 => '61.53.254.105',
                90 => '113.109.118.125',
                91 => '113.109.118.125',
                92 => '117.136.36.190',
                93 => '223.104.3.196',
                94 => '113.66.158.204',
                95 => '112.17.242.157',
                96 => '116.17.226.130',
                97 => '39.90.207.146',
                98 => '112.86.75.46',
                99 => '115.204.229.53',
                100 => '223.104.9.176',
                101 => '121.58.37.17',
                102 => '223.104.90.25',
                103 => '117.136.36.153',
                104 => '121.31.250.122',
                105 => '120.39.78.82',
                106 => '106.39.255.103',
                107 => '183.204.35.88',
                108 => '117.136.36.181',
                109 => '117.136.49.111',
                110 => '182.37.155.66',
                111 => '171.109.183.174',
                112 => '117.136.89.231',
                113 => '117.136.24.55',
                114 => '223.104.227.0',
                115 => '117.175.141.161',
                116 => '119.62.124.218',
                117 => '113.106.249.21',
                118 => '120.24.7.182',
                119 => '115.223.255.212',
                120 => '14.150.166.159',
                121 => '218.21.196.45',
                122 => '218.21.196.45',
                123 => '218.21.196.45',
                124 => '211.138.116.150',
                125 => '112.17.242.148',
                126 => '118.242.26.26',
                127 => '117.136.5.211',
                128 => '113.65.194.128',
                129 => '114.253.204.99',
                130 => '197.77.184.54',
                131 => '36.110.119.25',
                132 => '117.94.63.36',
                133 => '42.103.115.14',
                134 => '36.16.142.2',
                135 => '14.222.135.28',
                136 => '39.190.0.123',
                137 => '117.136.30.93',
                138 => '106.43.168.145',
                139 => '106.43.160.191',
                140 => '61.163.138.120',
                141 => '27.209.242.69',
                142 => '59.172.64.225',
                143 => '117.136.37.110',
                144 => '119.121.207.42',
                145 => '119.121.207.42',
                146 => '39.187.118.199',
                147 => '106.226.74.42',
                148 => '60.19.219.118',
                149 => '112.10.228.215',
                150 => '113.129.43.220',
                151 => '120.84.12.24',
                152 => '117.136.31.210',
                153 => '115.234.68.249',
                154 => '223.104.9.2',
                155 => '183.202.49.32',
                156 => '58.216.75.51',
                157 => '123.175.19.5',
                158 => '36.1.228.5',
                159 => '218.77.217.145',
                160 => '122.89.209.169',
                161 => '120.210.175.165',
                162 => '117.136.25.120',
                163 => '112.17.241.96',
                164 => '117.136.75.162',
                165 => '60.166.84.98',
                166 => '117.136.101.237',
                167 => '43.225.237.211',
                168 => '121.228.104.122',
                169 => '59.172.124.193',
                170 => '125.39.30.141',
                171 => '117.136.38.39',
                172 => '117.136.8.229',
                173 => '124.166.231.184',
                174 => '125.45.85.82',
                175 => '117.136.80.68',
                176 => '117.136.40.252',
                177 => '117.136.39.210',
                178 => '114.83.237.78',
                179 => '1.39.10.4',
                180 => '113.106.249.21',
                181 => '36.63.128.230',
                182 => '112.65.190.191',
                183 => '123.181.128.24',
                184 => '163.177.139.244',
                185 => '183.26.163.36',
                186 => '112.17.241.144',
                187 => '1.28.124.58',
                188 => '223.104.11.96',
                189 => '1.85.8.222',
                190 => '1.85.8.222',
                191 => '1.85.8.222',
                192 => '182.111.9.179',
                193 => '42.234.19.111',
                194 => '123.153.20.242',
                195 => '36.23.14.113',
                196 => '113.7.83.56',
                197 => '113.7.83.56',
                198 => '113.7.83.56',
                199 => '116.112.44.20',
                200 => '14.215.75.14',
                201 => '49.118.195.21',
                202 => '112.17.242.148',
                203 => '42.234.10.138',
                204 => '220.249.162.174',
                205 => '59.47.7.161',
                206 => '223.104.94.30',
                207 => '222.211.89.152',
                208 => '112.245.16.218',
                209 => '221.193.61.41',
                210 => '112.116.194.202',
                211 => '119.50.130.107',
                212 => '117.169.155.37',
                213 => '58.100.2.210',
                214 => '113.5.2.57',
                215 => '116.113.66.35',
                216 => '60.179.18.150',
                217 => '60.179.18.150',
                218 => '60.179.18.150',
                219 => '111.161.65.233',
                220 => '221.193.60.93',
                221 => '120.197.200.162',
                222 => '117.136.45.253',
                223 => '114.111.166.212',
                224 => '106.121.3.135',
                225 => '27.189.62.221',
                226 => '124.238.189.223',
                227 => '171.82.241.14',
                228 => '223.104.6.103',
                229 => '113.135.121.210',
                230 => '223.104.33.39',
                231 => '117.136.31.120',
                232 => '119.181.239.244',
                233 => '115.49.181.166',
                234 => '106.121.2.86',
                235 => '42.243.232.184',
                236 => '36.23.51.86',
                237 => '120.197.253.4',
                238 => '112.115.182.46',
                239 => '116.238.171.153',
                240 => '58.60.48.237',
                241 => '123.97.112.12',
                242 => '61.184.83.233',
                243 => '223.104.19.10',
                244 => '58.39.188.133',
                245 => '223.73.99.55',
                246 => '36.62.70.52',
                247 => '110.91.211.87',
                248 => '183.48.26.86',
                249 => '49.77.52.118',
                250 => '36.63.231.4',
                251 => '14.223.62.44',
                252 => '117.136.31.138',
                253 => '117.136.25.92',
                254 => '218.203.63.174',
                255 => '223.104.31.229',
                256 => '113.223.57.11',
                257 => '112.96.115.40',
                258 => '180.127.51.161',
                259 => '112.44.101.29',
                260 => '171.214.140.117',
                261 => '119.182.87.7',
                262 => '111.161.202.95',
                263 => '39.176.71.218',
                264 => '106.44.54.208',
                265 => '122.13.45.56',
                266 => '223.104.9.8',
                267 => '121.234.200.5',
                268 => '120.9.210.207',
                269 => '223.104.9.13',
                270 => '223.199.215.111',
                271 => '117.168.163.173',
                272 => '219.141.20.168',
                273 => '113.129.171.223',
                274 => '113.129.171.223',
                275 => '112.244.54.175',
                276 => '112.193.128.12',
                277 => '223.144.5.48',
                278 => '121.31.250.71',
                279 => '220.166.141.193',
                280 => '36.1.165.157',
                281 => '223.198.255.245',
                282 => '223.104.23.69',
                283 => '14.16.189.71',
                284 => '115.234.100.82',
                285 => '58.22.64.37',
                286 => '223.104.5.230',
                287 => '218.21.196.45',
                288 => '218.21.196.45',
                289 => '118.255.17.2',
                290 => '111.197.245.93',
                291 => '219.149.54.188',
                292 => '117.136.6.82',
                293 => '111.26.32.25',
                294 => '183.162.52.217',
                295 => '175.167.136.190',
                296 => '221.174.167.113',
                297 => '123.180.242.51',
                298 => '117.114.147.26',
                299 => '222.42.239.185',
                300 => '211.162.33.216',
                301 => '211.162.33.216',
                302 => '117.136.36.144',
                303 => '223.104.13.204',
                304 => '111.197.185.131',
                305 => '221.13.1.114',
            );


        $mongo_url_arr = array(
//            'mongo-game-token-s-001.m6:10800',
//            'mongo-game-token-s-001.m6:10801',
//            'mongo-game-token-s-001.m6:10802',
//            'mongo-game-token-s-001.m6:10803',
//            'mongo-game-token-s-001.m6:10804',
//            'mongo-game-token-s-002.m6:10805',
            'mongo-game-token-s-002.m6:10806',
//            'mongo-game-token-s-002.m6:10807',
//            'mongo-game-token-s-002.m6:10808',
//            'mongo-game-token-s-002.m6:10809',
        );

        $ip_arr = array(
            '124.251.45.8',
        );

        $appid = 'ex_redtank_Txty4vf';
//        'authapps.ex_redtank_Txty4vf.devices.ip'

        $game_arr = array();
        $num = 0;
        foreach ($mongo_url_arr as $mongo_url) {
            echo $mongo_url . "\n";
            $mongo = new Mongo("mongodb://{$mongo_url}");
            $db = $mongo->selectDB("player_token")->selectCollection("token");

            $field = array('_id'=>false);
            foreach ($ip_arr as $ip) {
                $where = array('authapps.'.$appid.'.devices.ip' => $ip);

                $ret = $db->find($where, $field);

                foreach ($ret as $row) {
                    $appinfo =$row['authapps'][$appid];

                    $gameid = $appinfo['gameid'];
                    if ($gameid) {
                        file_put_contents("redgame_gameid.txt", $gameid.PHP_EOL, FILE_APPEND);
                    }

                    //$game_arr[] = $gameid;
                    $num++;
                }

                echo $ip.'='.$num;
            }


            $mongo->close();
        }

        echo 'ok';exit();
        //print_r($game_arr);exit();
    }

    public function put() {

    }
}